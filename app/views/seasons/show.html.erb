<h1><%= @league.name %> - <%= @season.year %> Season</h1>

<p>
  <%= link_to "Back to League", league_path(@league) %> |
  <%= button_to "Sync Season", admin_sync_season_path(season_id: @season.id), method: :post %>
</p>

<h2>Standings</h2>
<% if @standings.any? %>
  <table>
    <thead>
      <tr>
        <th>Rank</th>
        <th>Team</th>
        <th>Manager</th>
        <th>Record</th>
        <th>Points For</th>
        <th>Points Against</th>
      </tr>
    </thead>
    <tbody>
      <% @standings.each do |standing| %>
        <tr>
          <td><%= standing.rank %></td>
          <td><%= standing.team.name %></td>
          <td><%= standing.team.manager.name %></td>
          <td><%= standing.wins %>-<%= standing.losses %><%= "-#{standing.ties}" if standing.ties > 0 %></td>
          <td><%= number_with_precision(standing.points_for, precision: 2) %></td>
          <td><%= number_with_precision(standing.points_against, precision: 2) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No standings data yet. Click "Sync Season" to import standings.</p>
<% end %>

<h2>Teams</h2>
<% if @teams.any? %>
  <ul>
    <% @teams.each do |team| %>
      <li><%= team.name %> (<%= team.manager.name %>)</li>
    <% end %>
  </ul>
<% else %>
  <p>No teams found.</p>
<% end %>

<h2>Recent Matchups</h2>
<% if @matchups.any? %>
  <table>
    <thead>
      <tr>
        <th>Week</th>
        <th>Matchup</th>
        <th>Score</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      <% @matchups.each do |matchup| %>
        <tr>
          <td>Week <%= matchup.week %></td>
          <td><%= matchup.team_1.name %> vs <%= matchup.team_2.name %></td>
          <td><%= matchup.team_1_score %> - <%= matchup.team_2_score %></td>
          <td><%= matchup.matchup_type.humanize %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No matchups recorded yet. Click "Sync Season" to import matchups.</p>
<% end %>
